<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Login</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
        <link href="../../resources/css/login.css" rel="stylesheet">
    </head>
    <body class="align">
      <!-- <?php if(!empty($errors)): ?>
          <div class="alert alert-danger">
            <?php foreach($errors as $error): ?>
                <div><?php echo $error?></div>
            <?php endforeach; ?>
          </div>
      <?php endif; ?> -->
        <div class="grid">
           
          <form id="signupForm" method="POST" class="form login">
            <div class="form__field">
              <label for="login__username">  
              <span class="hidden">FirstName</span></label>
              <input  id="login__name" type="text" name="firstname" class="form__input" placeholder="FirstName" >
            </div>
            <div class="form__field">
                <label for="login__username">
                <span class="hidden">LastName</span></label>
                <input  id="login__lname" type="text" name="lastname" class="form__input" placeholder="LastName" >
              </div>
              <div class="form__field">
                <label for="login__username">
                <span class="hidden">Email</span></label>
                <input  id="login__email" type="email" name="email" class="form__input" placeholder="Email">
              </div>
              <div class="form__field">
                <label for="login__username">  
                <span class="hidden">Mobile Phone</span></label>
                <input  id="login__phone" type="tel" name="phone" class="form__input" placeholder="Phone Number">
              </div>
      
            <div class="form__field">
              <label for="login__password">
                <span class="hidden">Password</span></label>
                <input id="login__password" type="password" name="password" class="form__input" placeholder="New Password" >
              </div>
            <div class="form__field">
                <label for="login__password">
                <span class="hidden">Password</span></label>
                <input id="login__confirm_password" type="password" name="ConfirmPassword" class="form__input" placeholder="Confirm Password">
              </div>
      
            <div class="form__field">
              <input type="submit" value="Sign up" >
            </div>
      
          </form>
      
          <p class="text--center">Already have account? <a href="loginPage.html">Login now</a> </p>
      
        </div>
        <script>
          const signupForm  = document.getElementById('signupForm')
          signupForm.addEventListener('submit', e => {
            e.preventDefault()
            sendInfo()
            async function sendInfo() {
              var response = await fetch ( "../api/signup.php", {
                method: 'POST',
                body: new FormData(signupForm)
              }).then(res => res.json()).then(response => response)
              if (response) {
                window.alert("Successfully Registered")
                document.location.href = "./loginPage.html"
              }
              else {
                window.alert("Error: not registered")
              }
            }
          })
        </script>
      </body>
</html>